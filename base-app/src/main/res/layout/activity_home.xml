<?xml version="1.0" encoding="utf-8"?>
<layout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="vm"
            type="com.template.mvvm.core.models.home.HomeViewModel"/>
    </data>

    <androidx.drawerlayout.widget.DrawerLayout
        android:id="@+id/drawer"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="?android:attr/windowBackground">

        <androidx.coordinatorlayout.widget.CoordinatorLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent">

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:orientation="vertical">

                <androidx.appcompat.widget.Toolbar
                    android:id="@+id/toolbar"
                    style="@style/Toolbar"
                    app:command="@{ vm::onCommand }"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintLeft_toLeftOf="parent"
                    app:layout_constraintRight_toRightOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent"
                    app:navigationIcon="@drawable/ic_menu"
                    app:title="@{context.getString(vm.state.title)}"/>


                <FrameLayout
                    android:id="@id/contentFrame"
                    android:layout_width="match_parent"
                    android:layout_height="0dp"
                    app:layout_constraintBottom_toTopOf="@+id/bottomNavi"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintHorizontal_bias="0.0"
                    app:layout_constraintLeft_toLeftOf="parent"
                    app:layout_constraintRight_toRightOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/toolbar"/>


                <!--
          Bottom navigation provides quick navigation between top-level views of an app. It is primarily designed for use on mobile.
          Larger displays, like desktop, may achieve a similar effect by using side navigation.
          For instance, the compact “rail” treatment displays navigational icons by default.


          If your top-level navigation has more than six destinations,
          provide access to destinations not covered in bottom navigation
          through alternative locations, such as a navigation drawer.


          When the view is in focus, display that view’s icon and text label
          When there are only three actions, display both icons and text labels at all times
          If there are four or five actions, display inactive views as icons only

          !!!!!On Android, the Back button does not navigate between bottom navigation bar views.
          -->
                <com.google.android.material.bottomnavigation.BottomNavigationView
                    android:id="@+id/bottomNavi"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_gravity="start|bottom"
                    android:theme="@style/NavigationView.BottomNavigationViewTheme"
                    app:command="@{vm::onCommand}"
                    app:layout_constraintBottom_toBottomOf="parent"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintLeft_toLeftOf="parent"
                    app:layout_constraintRight_toRightOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:menu="@menu/menu_navi_bottom"
                    app:selectItem="@{vm.state.selectItem}"/>

            </androidx.constraintlayout.widget.ConstraintLayout>

        </androidx.coordinatorlayout.widget.CoordinatorLayout>

        <com.google.android.material.navigation.NavigationView
            android:id="@+id/drawerNavi"
            android:layout_width="wrap_content"
            android:layout_height="@dimen/drawer_navi_height"
            android:layout_gravity="start"
            android:theme="@style/NavigationView.DrawerNavigationViewTheme"
            app:command="@{vm::onCommand}"
            app:headerLayout="@layout/layout_drawer_header"
            app:menu="@menu/menu_navi_drawer"/>


    </androidx.drawerlayout.widget.DrawerLayout>
</layout>
