allprojects {
    repositories {
        google()
        jcenter()
        mavenCentral()
        maven { url "https://jitpack.io" }
    }
}

ext {
    // App dependencies
    def supportLibraryVersion = '26.1.0'
    def archLifecycleVersion = "1.0.0-beta2"
    def paging = "1.0.0-alpha3"
    def constraint = "1+"
    def multiDex = "1+"

    // Retrofit
    def retrofit = "2.3.0"

    //Material Design Guideline
    def guideline = "1.0.4"

    //Json
    def gson = "2+"

    //Image-loader
    def imageLoader = "4+"

    //Debug tool
    def curl = "0.1"
    def stetho = "1.5.0"

    //Test
    def espresso = "3.0.1"
    def junit = "4.12"

    //Kotlin
    def kotlin = ext.kotlin_version
    def kotlinCoroutines = "0.19"

    //Gradle
    def gradle = ext.gradleVersion

    plugins = [
            androidApp: "com.android.application",
            androidLib: "com.android.library",
            kotlin    : "kotlin-android",
            kotlinExt : "kotlin-android-extensions",
            kapt      : "kotlin-kapt"
    ]


    modules = [
            base      : ":base",
            core      : ":core",
            repository: ":repository"
    ]


    corePlugins = [
            plugins.androidLib,
            plugins.kotlin,
            plugins.kotlinExt,
            plugins.kapt,
    ]

    basePlugins = [
            plugins.androidLib,
            plugins.kotlin,
            plugins.kotlinExt,
            plugins.kapt,
    ]

    repositoryPlugins = [
            plugins.androidLib,
            plugins.kotlin,
            plugins.kotlinExt,
            plugins.kapt,
    ]

    appPlugins = [
            plugins.androidApp,
            plugins.kotlin,
            plugins.kotlinExt,
            plugins.kapt,
    ]

    baseDependencies = [
            //TEST LIB
            [configuration: "testImplementation", dependency: [group: "junit", name: "junit", version: junit]],
            [configuration: "androidTestImplementation", dependency: [group: "com.android.support.test.espresso", name: "espresso-core", version: espresso],
             options      : {
                 exclude group: 'com.android.support', module: 'support-annotations'
             }],

            //SUPPORT
            [configuration: "implementation", dependency: [group: "com.android.support", name: "appcompat-v7", version: supportLibraryVersion]],
            [configuration: "implementation", dependency: [group: "com.android.support", name: "cardview-v7", version: supportLibraryVersion]],
            [configuration: "implementation", dependency: [group: "com.android.support", name: "design", version: supportLibraryVersion]],
            [configuration: "implementation", dependency: [group: "com.android.support", name: "customtabs", version: supportLibraryVersion]],
            [configuration: "implementation", dependency: [group: "com.android.support", name: "recyclerview-v7", version: supportLibraryVersion]],
            [configuration: "implementation", dependency: [group: "com.android.support", name: "support-v4", version: supportLibraryVersion]],
            [configuration: "implementation", dependency: [group: "com.android.support.constraint", name: "constraint-layout", version: constraint],],
            [configuration: "implementation", dependency: [group: "com.android.support", name: "multidex", version: multiDex]],

            //JSON
            [configuration: "implementation", dependency: [group: "com.google.code.gson", name: "gson", version: gson]],

            //ARCH
            [configuration: "implementation", dependency: [group: "android.arch.lifecycle", name: "runtime", version: archLifecycleVersion]],
            [configuration: "implementation", dependency: [group: "android.arch.lifecycle", name: "extensions", version: archLifecycleVersion]],
            [configuration: "kapt", dependency: [group: "android.arch.lifecycle", name: "compiler", version: archLifecycleVersion]],
            [configuration: "implementation", dependency: [group: "android.arch.lifecycle", name: "common-java8", version: archLifecycleVersion]],
            [configuration: "implementation", dependency: [group: "android.arch.persistence.room", name: "runtime", version: archLifecycleVersion]],
            [configuration: "kapt", dependency: [group: "android.arch.persistence.room", name: "compiler", version: archLifecycleVersion]],
            [configuration: "implementation", dependency: [group: "android.arch.paging", name: "runtime", version: paging]],

            //KOTLIN
            [configuration: "implementation", dependency: [group: "org.jetbrains.kotlin", name: "kotlin-stdlib-jre7", version: kotlin]],
            [configuration: "kapt", dependency: [group: "com.android.databinding", name: "compiler", version: gradle]],
            [configuration: "implementation", dependency: [group: "org.jetbrains.kotlinx", name: "kotlinx-coroutines-core", version: kotlinCoroutines]],
            [configuration: "implementation", dependency: [group: "org.jetbrains.kotlinx", name: "kotlinx-coroutines-android", version: kotlinCoroutines]],

            //RETROFIT
            [configuration: "implementation", dependency: [group: "com.squareup.retrofit2", name: "retrofit", version: retrofit]],
            [configuration: "implementation", dependency: [group: "com.squareup.retrofit2", name: "converter-gson", version: retrofit]],

            //MATERIAL DESIGN GUIDELINE
            [configuration: "implementation", dependency: [group: "com.github.thekhaeng", name: "material-design-guideline", version: guideline],
             options      : {
                 exclude group: 'com.android.support', module: 'support-annotations'
             }],

            //IMAGE-LOADER
            [configuration: "implementation", dependency: [group: "com.github.bumptech.glide", name: "glide", version: imageLoader]],
            [configuration: "kapt", dependency: [group: "com.github.bumptech.glide", name: "compiler", version: imageLoader]],

            //DEBUG TOOL
            [configuration: "implementation", dependency: [group: "com.facebook.stetho", name: "stetho", version: stetho]],
            [configuration: "implementation", dependency: [group: "com.facebook.stetho", name: "stetho-okhttp3", version: stetho]],
            [configuration: "debugImplementation", dependency: [group: "com.github.grapesnberries", name: "curlloggerinterceptor", version: curl]],
    ]

    coreDependencies = baseDependencies
    repositoryDependencies = baseDependencies
    appDependencies = coreDependencies
}
